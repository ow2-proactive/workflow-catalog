<div ng-controller="WorkflowCatalogController">
          
    <div class="row"> 
        <div class="ibox float-e-margins">
            <div class="ibox-heading" style="height: 50px">
                <div id="left" class="m-b col-md-6">
                    <h1>Workflow Catalog</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6 col-lg-6 col-md-6">
            <div class="ibox float-e-margins">
                <div class="input-group m-b" style="width: 100%;">
                    <form ng-submit="goToUrl()">
                        <input type="text" class="form-control" ng-model="url" ng-blur="setURL()">
                    </form>
                </div>
            </div>
        </div>
        <div class="col-lg-offset-2 col-sm-1 col-lg-1 col-md-1">
            <div class="ibox float-e-margins">
                <button class="fa fa-trash" ng-click="deleteSelectedWorkflows();"></button>
            </div>
        </div>
    </div>
           
    <div class="row">
        <div class="col-lg-3">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Buckets</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="bucket in buckets"
                                ng-class="($index==selectedBucketIndex)?'active':''"
                                ng-click="selectBucket($index)">
                                <td>{{bucket.name}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
                 
        </div>
        <div class="col-lg-6">
            <div class="ibox float-e-margins">
                <div class="ibox-content" style="overflow: auto; height: 60vh;">
                    <div class="col-sm-3" ng-repeat="workflow in workflows">
                        <div class="panel"
                            ng-class="getPanelStatus(workflow.name)"
                            ng-click="selectWorkflow(workflow.name, $event)">
                            <div class="panel-heading" style="height: 70px;">{{workflow.name}}</div>
                            <div class="panel-body" style="height: 140px;">
                                <img src="{{getWorkflowIconUrl(workflow.name)}}" alt="{{workflow.name}}"
                                    style="max-width: 100%; max-height: 100%;" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <div class="panel">
                        <div class="panel-heading">
                            <h2>Description</h2>
                        </div>
                        <div class="panel-body" ng-if="selectedWorkflows.length > 0">
                            <p>
                                <b>Name:</b> {{selectedWorkflows[selectedWorkflows.length - 1].name}}<br>
                                <b>Project Name:</b> {{selectedWorkflows[selectedWorkflows.length - 1].project_name}}<br>
                                <b>Latest Update:</b> {{selectedWorkflows[selectedWorkflows.length - 1].commit_time}}
                            </p>
                            <p>
                                <b>Generic Info: </b>

                            <table style="border-collapse: separate; border-spacing: 10px;"
                                ng-if="selectedWorkflows[selectedWorkflows.length - 1].gis.length > 0">
                                <tr ng-repeat="gi in selectedWorkflows[selectedWorkflows.length - 1].gis">
                                    <td style="vertical-align: top;">{{gi.key}}</td>
                                    <td style="vertical-align: top;">{{gi.value}}</td>
                                </tr>
                            </table>
                            </p>
                            <p>
                                <b>Default Variables: </b>
                            <table style="border-collapse: separate; border-spacing: 10px;"
                                ng-if="selectedWorkflows[selectedWorkflows.length - 1].variables.length > 0">
                                <tr ng-repeat="variable in selectedWorkflows[selectedWorkflows.length - 1].variables">
                                    <td class="align-text-top" style="vertical-align: top;">{{variable.key}}</td>
                                    <td style="vertical-align: top;">{{variable.value}}</td>
                                </tr>
                            </table>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>